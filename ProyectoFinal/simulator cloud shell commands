gcloud services enable cloudfunctions.googleapis.com --project=gcp-final-project-2025
gcloud services enable eventarc.googleapis.com --project=gcp-final-project-2025
gcloud services enable cloudbuild.googleapis.com --project=gcp-final-project-2025
gcloud services enable run.googleapis.com --project=gcp-final-project-2025



mkdir cloudfunctions
cd cloudfunctions
echo 'def send_data(request): return "Hola Mundo!!!!", 200' > main.py
echo "pandas" > requirements.txt



gcloud functions deploy simulator \
  --project gcp-final-project-2025 \
  --runtime python312 \
  --trigger-http \
  --allow-unauthenticated \
  --service-account simulator-storage-pubsub@gcp-final-project-2025.iam.gserviceaccount.com \
  --build-service-account=projects/gcp-final-project-2025/serviceAccounts/simulator-storage-pubsub@gcp-final-project-2025.iam.gserviceaccount.com \
  --entry-point send_data \
  --region southamerica-east1 \
  --memory 256MB \
  --timeout 60s


gcloud services disable cloudfunctions.googleapis.com --project=gcp-final-project-2025
gcloud services disable eventarc.googleapis.com --project=gcp-final-project-2025
gcloud services disable cloudbuild.googleapis.com --project=gcp-final-project-2025
gcloud services disable run.googleapis.com --project=gcp-final-project-2025
